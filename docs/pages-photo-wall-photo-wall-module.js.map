{"version":3,"sources":["webpack:///./src/app/pages/photo-wall/photo-wall-routing.module.ts","webpack:///./src/app/pages/photo-wall/photo-wall.component.html","webpack:///./src/app/pages/photo-wall/photo-wall.component.scss","webpack:///./src/app/pages/photo-wall/photo-wall.component.ts","webpack:///./src/app/pages/photo-wall/photo-wall.module.ts","webpack:///./src/app/pages/photo-wall/photo-wall.service.ts"],"names":[],"mappings":"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","file":"pages-photo-wall-photo-wall-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PhotoWallComponent } from './photo-wall.component';\n\nconst routes: Routes = [\n  {path: '', component: PhotoWallComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PhotoWallRoutingModule { }\n","module.exports = \"<div [@listAnim]=\\\"imgs?imgs.length:''\\\" class=\\\"container\\\">\\n  <div nz-col *ngFor=\\\"let img of imgs\\\" class=\\\"flip\\\"\\n  libDrag\\n  [dragData]=\\\"img\\\"\\n  [draggedClass]=\\\"'drag-start'\\\"\\n  libDrop\\n  [appDraggable]=\\\"true\\\"\\n  [dropData]=\\\"img\\\"\\n  [dragEnterClass]=\\\"'drag-enter'\\\"\\n  (dropped)=\\\"changeOrder($event)\\\"\\n  >\\n    <div [@rotate]=\\\"img.frontOrBack\\\" class=\\\"front\\\">\\n      <img [src]=\\\"img.url\\\" style=\\\"height:188px;width:150px;\\\">\\n      <div class=\\\"front-shadow\\\">\\n        <i class=\\\"anticon anticon-retweet\\\" (click)=\\\"rotate(img)\\\"></i>\\n        <span class=\\\"preview\\\">\\n          <i nz-icon type=\\\"eye\\\" theme=\\\"outline\\\" (click)=\\\"preview(modalContent, img)\\\"></i>\\n          <i nz-icon type=\\\"delete\\\" theme=\\\"outline\\\" style=\\\"margin-left:4px;\\\" (click)=\\\"delete(img)\\\"></i>\\n        </span>\\n      </div>\\n    </div>\\n    <nz-card [@rotate]=\\\"img.relativeFrontOrBack\\\" class=\\\"back\\\">\\n      <i class=\\\"anticon anticon-retweet\\\" (click)=\\\"rotate(img)\\\"></i>\\n      <p>背后的故事</p>\\n    </nz-card>\\n  </div>\\n  <div nz-col class=\\\"flip\\\">\\n    <div style=\\\"width:150px;height:188px\\\">\\n      <nz-upload [nzListType]=\\\"'picture-card'\\\" [nzShowUploadList]=\\\"false\\\"\\n      nzAction=\\\"photo/upload/\\\"\\n      (nzChange)=\\\"handleChange($event)\\\"\\n      nzName=\\\"files\\\">\\n        <i nz-icon type=\\\"plus\\\" theme=\\\"outline\\\"></i>\\n        <div class=\\\"ant-upload-text\\\">上传</div>\\n      </nz-upload>\\n    </div>\\n  </div>\\n</div>\\n\\n<ng-template #modalContent>\\n  <img [src]=\\\"previewImage\\\" [ngStyle]=\\\"{ 'width': '100%' }\\\" />\\n</ng-template>\\n\"","module.exports = \":host ::ng-deep .anticon-retweet {\\n  position: absolute;\\n  right: 8px;\\n  color: aqua;\\n  cursor: pointer; }\\n  :host ::ng-deep .anticon-retweet:hover {\\n    color: aquamarine; }\\n  :host ::ng-deep .ant-card-body {\\n  padding: 0; }\\n  .container {\\n  -webkit-transform-style: preserve-3d;\\n          transform-style: preserve-3d;\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  justify-content: space-evenly; }\\n  .flip {\\n  position: relative;\\n  -webkit-transform-style: preserve-3d;\\n          transform-style: preserve-3d;\\n  margin-top: 8px;\\n  border: 2px solid #fff; }\\n  .front,\\n.back {\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  -webkit-backface-visibility: hidden;\\n          backface-visibility: hidden;\\n  width: 150px;\\n  height: 188px; }\\n  @-webkit-keyframes cool {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg); }\\n  25% {\\n    -webkit-transform: rotate(8deg);\\n            transform: rotate(8deg); }\\n  75% {\\n    -webkit-transform: rotate(-8deg);\\n            transform: rotate(-8deg); }\\n  100% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg); } }\\n  @keyframes cool {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg); }\\n  25% {\\n    -webkit-transform: rotate(8deg);\\n            transform: rotate(8deg); }\\n  75% {\\n    -webkit-transform: rotate(-8deg);\\n            transform: rotate(-8deg); }\\n  100% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg); } }\\n  .front {\\n  z-index: 2; }\\n  .front:hover {\\n    -webkit-animation: cool 500ms ease;\\n            animation: cool 500ms ease; }\\n  .front:hover .preview {\\n      opacity: 1; }\\n  .front-shadow {\\n  opacity: 0;\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  -webkit-backface-visibility: hidden;\\n          backface-visibility: hidden;\\n  width: 150px;\\n  height: 188px;\\n  background: rgba(0, 0, 0, 0.3);\\n  z-index: 3 !important; }\\n  .front-shadow .preview {\\n    font-size: 16px;\\n    color: #fff;\\n    position: absolute;\\n    left: calc(50% - 18px);\\n    top: calc(50% - 12px);\\n    opacity: 0;\\n    cursor: pointer; }\\n  .front-shadow:hover {\\n    cursor: pointer;\\n    opacity: 1; }\\n  .drag-start {\\n  opacity: 0.5;\\n  border: 2px dashed #ff525b; }\\n  .drag-enter {\\n  border: 2px dashed green; }\\n  :host ::ng-deep .ant-upload.ant-upload-select-picture-card {\\n  width: 100%;\\n  height: 100%; }\\n  :host ::ng-deep .ant-upload.ant-upload-select-picture-card {\\n  width: 100%;\\n  height: 100%; }\\n  :host ::ng-deep .ant-upload.ant-upload-select-picture-card > .ant-upload {\\n    padding: 0; }\\n  :host ::ng-deep .ant-upload.ant-upload-select-picture-card > .ant-upload img {\\n      width: 150px;\\n      height: 188px; }\\n\"","import { Component, OnInit, TemplateRef, OnDestroy } from '@angular/core';\nimport { listAnimm, rotateAnimm } from 'cxx-lib';\nimport { NzModalService, NzModalRef, NzMessageService, UploadFile } from 'ng-zorro-antd';\nimport { PhotoWallService } from './photo-wall.service';\nimport { AppService } from '../../app.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-photo-wall',\n  templateUrl: './photo-wall.component.html',\n  styleUrls: ['./photo-wall.component.scss'],\n  animations: [listAnimm, rotateAnimm]\n})\nexport class PhotoWallComponent implements OnInit, OnDestroy {\n  previewImage: string;\n  imgs = [\n  ];\n  frontOrBack = 'front';\n  relativeFrontOrBack = 'back';\n  private _modalService: NzModalRef;\n  private getPhotoList$: Subscription;\n  private deletePhotoById$: Subscription;\n  private changeOrder$: Subscription;\n  constructor(private modal: NzModalService,\n    private msg: NzMessageService,\n    private phototWallService: PhotoWallService,\n    private appService: AppService) { }\n\n  ngOnInit() {\n    this.phototWallService.getPhotoList().subscribe((res: any) => {\n      res.forEach(item => {\n        item.frontOrBack = 'front';\n        item.relativeFrontOrBack = 'back';\n        item.url = this.appService.defaultUrl + item.path;\n      });\n      this.imgs = res;\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.getPhotoList$) {\n      this.getPhotoList$.unsubscribe();\n    }\n    if (this.deletePhotoById$) {\n      this.deletePhotoById$.unsubscribe();\n    }\n    if (this.changeOrder$) {\n      this.changeOrder$.unsubscribe();\n    }\n  }\n\n  /**\n   *旋转\n   *\n   * @memberof PhotoWallComponent\n   */\n  rotate(img: any) {\n    if (img.frontOrBack === 'front') {\n      img.frontOrBack = 'back';\n      img.relativeFrontOrBack = 'front';\n    } else {\n      img.frontOrBack = 'front';\n      img.relativeFrontOrBack = 'back';\n    }\n  }\n\n  preview(tplContent: TemplateRef<{}>, img: any) {\n    this.previewImage = img.url;\n    this._modalService = this.modal.create({\n      nzContent: tplContent,\n      nzClosable: true,\n      nzWidth: document.body.clientWidth - 48,\n      nzFooter: null,\n      nzOnCancel: () => this._modalService.close\n    });\n  }\n\n  beforeUploadBankcard = (file: File): boolean => {\n    const isJPG = file.type === 'image/jpeg';\n    if (!isJPG) {\n      this.msg.error('You can only upload JPG file!');\n    }\n    const isLt2M = file.size / 1024 / 1024 < 2;\n    if (!isLt2M) {\n      this.msg.error('Image must smaller than 2MB!');\n    }\n    return isJPG && isLt2M;\n  }\n\n  handleChange(info: { file: UploadFile }): void {\n    if (info.file.status === 'uploading') {\n      return;\n    }\n    if (info.file.status === 'done') {\n      this.imgs.push({\n        frontOrBack: 'front',\n        relativeFrontOrBack: 'back',\n        url: this.appService.defaultUrl + info.file.response.path,\n        path: info.file.response.path,\n        id: info.file.response.id,\n        name: info.file.response.name\n      });\n    }\n  }\n\n  delete(img: any) {\n    this.deletePhotoById$ = this.phototWallService.deletePhotoById(img.id, img.path).subscribe(rsp => {\n      this.imgs = [].concat(this.imgs.filter(item => item.id !== img.id));\n    }, error => {\n      this.msg.error('删除失败！');\n    });\n  }\n\n  changeOrder(event: any) {\n    const dragData = event.dragData;\n    const dropData = event.dropData;\n    this.changeOrder$ = this.phototWallService.changeOrder(dragData, dropData).subscribe(rsp => {\n      this.ngOnInit();\n    });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { PhotoWallComponent } from './photo-wall.component';\nimport { PhotoWallRoutingModule } from './photo-wall-routing.module';\nimport { SharedModule } from '../../shared/shared.module';\nimport { PhotoWallService } from './photo-wall.service';\n\n@NgModule({\n  imports: [\n    SharedModule,\n    PhotoWallRoutingModule\n  ],\n  declarations: [PhotoWallComponent],\n  providers: [PhotoWallService]\n})\nexport class PhotoWallModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\nimport { AppService } from '../../app.service';\n\n@Injectable()\nexport class PhotoWallService {\n\n  constructor(private http: HttpClient, private app: AppService) { }\n  /**\n   *图片列表查询\n   *\n   * @memberof PhotoWallService\n   */\n  getPhotoList() {\n    return this.http.post(`photo/list`, {}).pipe(map((rsp: any) => rsp.photoList));\n  }\n\n  /**\n   *根据编号删除图片\n   *\n   * @param {*} id\n   * @returns\n   * @memberof PhotoWallService\n   */\n  deletePhotoById(id: any, path: any) {\n    const req = {\n      id: id,\n      path: path\n    };\n    return this.http.post('photo/deleteById', req);\n  }\n\n  changeOrder(dragData: any, dropData: any) {\n    const req = {\n      dragData: dragData,\n      dropData: dropData\n    };\n    return this.http.post('photo/changeOrder', req);\n  }\n}\n"],"sourceRoot":""}